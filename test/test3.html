<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="雪乃☆雫">
  <meta name="keywords" content="なでしこ,なでしこv3,日本語プログラミング言語,なでしこさん,ゲーム,PWA">
  <meta name="description" content="日本語プログラミング言語「なでしこv3」のプログラムのこと"> 

<style>
#nako3_canvas {
  margin: 4px;
  border: 1px dotted silver;
}
.nako3_div {
  font-size: 1em;
  line-height: 1.1em;
}
.nako3_div > button {
  margin: 4px;
  padding: 4px;
  font-size: 0.9em;
}

</style>
  <title></title>
</head>

<body>

<h1></h1>
<!-- なでしこのプログラム -->
<script type="なでしこ">
#〇なでしこ始め▼〇
#-----------------------------------------------------------------------
#---テンプレ用初期設定--------------------------
プログラムタイトルは『ダミートラックでカラオケ表示』
「title」にプログラムタイトルをテキスト設定。
「h1」にプログラムタイトルをテキスト設定。
「#nako3_div」へDOM親要素設定。
「#nako3_canvas」へ描画開始。
#-----------------------------------------------
#-----------------------------------------------------------------------
！『https://snowdrops89.github.io/DoReMi_nako3/doremi.nako3』を取り込む。

曲とは変数。
ドレミテキスト＝『
曲名＝｛さくらさくら｝
作者＝{"日本古謡"}
コメント＝{"字幕カラオケ表示のテスト。
テキスト音楽「サクラ」のサンプル曲に
少しだけ手を加えたものです。"}

//「歌詞」を「Lyric」に変え、「字幕表示」をコメントにすればサクラでのエラーは出なくなります。
歌詞＝{"さくらさくら
やよいの空は　見わたす限り
かすみか雲か　匂いぞ出ずる
いざやいざや　見にゆかん"}
字幕表示。

テンポ１００

トラック０//カラオケ表示用
//音量が０ならオシレータは作成しないので音が出ることはない
//音階０のラより低くしておけば８８鍵の鍵盤にも表示されない
音階０　音量０　音符４
ンーーー    ンーーー
ドドドー    ドドドー
ドドドド    ドー「ドド」ー
ドドドド    ドードー
ドドドド    ドー「ドド」ー
ドードド    ドドドー
ドドドー    ドド「ドド」ー
ッドドー    ドドドー

トラック１
音色７８
音階５　音量１２０　ゲート９５
音符４
ンーーー        ンーーー
ララシー        ララシー
ラシ↑ド↓シ    ラシ８ラ８ファー
ミドミファ      ミミ８ド８↓シー↑
ラシ↑ド↓シ    ラシ８ラ８ファー
ミドミファ      ミミ８ド８↓シー↑
ララシー        ララシー
ッミファー      シ８ラ８ファミー

トラック２
音色１０８
音階４　音量９０　ゲート１００
音符８
ミーファーシラファー　ミーラシ↑ミー↓ンー
【ンミラミシミ↑ミー↓】
【ンランシン↑ド↓ンシ
ンラシラファシラファ
ンミラミンミラシ
ンミ↑ド↓ラ：シ↑ミド↓シ】シラファミ
【ンミラミシミ↑ミー↓】
ファーソーラー　ンラシラシーーー

トラック３
音色１０７
音階４　音量１００　ゲート１００
音符４
ミレ↓シ↑レ    ミーーミ
音符２【「ミ↓ラ↑」ミ】
【音符４「ミ↓ラ↑」ミラミ
「ファ↓ラ↑」ーレー
「ミ↓ラ↑」ーミレ
「ミ↓ラ↑」ーミー】
【「ミ↓ラ↑」ーミー】
レミファー　ファファミー
』
# UI作成
ドレミテキストのテキストエリア作成して、ドレミテキスト表示に代入。
ドレミテキスト表示の「幅」に「300px」をDOMスタイル設定。
ドレミテキスト表示の「高さ」に「200px」をDOMスタイル設定。
改行作成。
「再生」のボタン作成して、再生ボタンに代入。
「停止」のボタン作成して、停止ボタンに代入。
「｜」のラベル作成。
「一時停止」のボタン作成して、一時停止ボタンに代入。
「再開」のボタン作成して、再開ボタンに代入。
# イベント
再生ボタンをクリックした時には、:
    全描画クリア。
    もし、曲≠NULLならば、曲をドレミ演奏停止。# 二重再生防止
    ドレミテキスト表示のテキスト取得をドレミ演奏して、曲に代入。
一時停止ボタンをクリックした時には、曲をドレミ演奏一時停止。。。
停止ボタンをクリックした時には、曲をドレミ演奏停止。。。
再開ボタンをクリックした時には、曲をドレミ演奏再開。。。
#-----------------------------------------------------------------------
#〇なでしこ終り▲〇
</script>
<!--〇ソース始め▼〇-->
<canvas id='nako3_canvas' width='300' height='300'></canvas>
<div id='nako3_div' class='nako3_div'></div>
<!--〇ソース終り▲〇-->

<!-- なでしこの実行エンジン -->
<script defer type="text/javascript" src="https://nadesi.com/v3/cdn.php?v=3.4.14&f=release/wnako3.js&run"></script>
<noscript>
このプログラムは、日本語プログラミング言語「なでしこ３」で作成しています。<BR>
Javascriptの動作する環境が必要です。Javascriptを有効にして下さい。<P>
【対応ブラウザ】<BR>
　・HTML5対応ブラウザ (Chrome /Safari /Edge /Firefox 等)<BR>
　・スマホブラウザ (iOS Safari / Android標準ブラウザ)
</noscript>
</body>
</html>
